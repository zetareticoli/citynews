/* ==========================================================================
  Global Styles
  ========================================================================== */

.primary-nav,
.secondary-nav,
.nav-toolbar {
	display: none;
	@include bp(l) {
		display: block;
	}
}

.nav-item {

	.link {
		color: $black800;

		&:hover {
			color: $black900;
			text-decoration: none;
		}
	}

	&.current {

		.link {
			color: $black1000;
		}
	}

}

.nav-toggle {
	display: none;
	float: left;
	margin: 0 $gutterwidth;
	line-height: 2.2em;
	@include bp(l) {
		display: block;
	}
}

.nav-toolbar {
	position: absolute;
	top: 0;
	right: 0;
}

.nav-mobile {
	position: absolute;
	right: 10px;
	display: block;
	@include bp(m) {
		top: 10px;
	}
	@include bp(l) {
		display: none;
	}
}


/* ==========================================================================
  Primary Navigation
  ========================================================================== */

.primary-nav {
	@include bp(l) {
		position: absolute;
		left: 35%;
		top: 0;
	}

	.nav-item {
		position: relative;
		margin-right: $baseline * 4;
		padding: $baseline * 3 0 0 0;
		height: 72px;
		font-family: $brandtypeface;
		font-weight: normal;
		@include font-size(20);
		text-transform: uppercase;

		.link {
			color: $black600;

			&:hover {
				color: $black700;
			}
		}

		&.current {
			
			.link {
				color: $black900;
			}
		}
	}

	.nav-item.current:after {
		display: inline-block;
		position: absolute;
		content: '';
		margin: auto;
		left: 0;
		right: 0;
		bottom: 0;
		width: 0;
		height: 0;
		vertical-align: middle;
		border-bottom: 10px dashed;
		border-right: 16px solid transparent;
		border-left: 16px solid transparent;
		color: $black300;
	}
}

/* ==========================================================================
  Secondary Navigation
  ========================================================================== */

.secondary-nav {
	@include bp(l) {
		position: absolute;
		left: 35%;
		top: 13px;
	}

	.nav-item {
		margin-right: $baseline * 2;
		font-family: $headingstypeface;
		@include font-size(16);
		@include bp(xl) {
			@include font-size(18);
		}
	}
}

/* ==========================================================================
  Mobile Navigation
  ========================================================================== */

.mobile-nav {
	width: 250px;
	height: 100%;
	position: fixed;
	top: 0;
	right: -250px;
	z-index: 10;
	background: $black1000;
	border-left-width: 3px;
	border-left-style: solid;
	@include transform(translateX(0));
	overflow-x: hidden;
	overflow-y: scroll;

	.nav-items-list {
		clear: left;
	}

	.nav-item {
		border-bottom: 1px solid $black1000;
		font-family: $texttypeface;
		font-weight: 700;
		@include font-size(20);
	}

	.nav-item .link {
		padding: $gutterwidth;
		display: block;
		color: white;
		width: 100%;
		background-color: $black900;

		&:hover {
			text-decoration: none;
		}

		&:active {
			background-color: $black1000;
		}
	}

	.search-button,
	.login-button {
		.icon {
			fill: $bluegrey400;
		}
		.button-label {
			color: $bluegrey400;
		}
	}

	.close-button {
		top: 14px;
		right: $gutterwidth;
	}

	.has-children > a, .go-back {
	  position: relative;
	}

	.link.go-back {
		background-color: $black1000;
		padding-left: $baseline * 5;
	}
}

.nav-children {
	position: absolute;
	top: 0;
	left: 0;
	width: 100%;
	height: 100%;
	overflow: hidden;
	z-index: 10;
	background: $black1000;

	.alph-list {
		width: 25%;
		position: absolute;
		top: 64px;
		left: 0;
		text-align: center;
		overflow: hidden;
		z-index: 10;
	}

	.alph-groups-container {
		position: relative;
		z-index: 10;
		width: 70%;
		margin-left: 25%;
		height: 90%;
		top: $gutterwidth;
		overflow-y: scroll;
		-webkit-overflow-scrolling: touch;

		h5 {
			color: $black800;
			@include font-size(12);
			font-family: $texttypeface;
			text-transform: uppercase;
			margin-bottom: $baseline;
		}
	}

	.alph-group {
		border-top: 1px solid $black900;
		padding: $baseline 0;

		li a {
			color: white;
			font-family: $texttypeface;
			display: block;
			padding: $baseline / 2 0;
		}
	}

	.alph-item {
		width: 100%;
		margin: $baseline auto;

		a {
			display: block;
			padding: 4px 0;
			@include font-size(14);
			font-family: $texttypeface;
			line-height: 0.5em;
			color: white;
			text-align: center;
			@include rounded(40px);
		}
	}
}

.content-blocker {
	position: fixed;
	top: 0;
	width: 100%;
	height: 100%;
	z-index: 9;
	background-color: rgba(0,0,0,0.5);
	display: none;
}

/* ==========================================================================
  Sliding Navigation
  ========================================================================== */

.sliding-nav {
	display: none;
	
	@include bp(l) {
		display: block;
		position: absolute;
		background-color: $black400;
		border-top-width: 3px;
		border-top-style: solid;
		left: 0;
		width: 100%;
		@include transform(translateY(-65px));
		@include transition(transform .2s .15s);
		z-index: 5;

		.nav-item {
			float: left;
			display: inline;
			font-family: $texttypeface;
			font-weight: 700;
			@include font-size(20);
			line-height: 16px;
			padding: $baseline * 2;
			opacity: 0;
			@include transform(translateY(-10px));
			@include transition(transform .2s, opacity .2s);
		}
	}

	@include bp(xl) {
		@include transform(translateY(-49px));
	}
}